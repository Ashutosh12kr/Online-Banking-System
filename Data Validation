1️⃣ GUI INPUT VALIDATION (MOST IMPORTANT)
✅ Validate Name
if (nameField.getText().trim().isEmpty()) {
    output.setText("Name cannot be empty");
    return;
}

✅ Validate Password
String pass = new String(passField.getPassword());
if (pass.length() < 4) {
    output.setText("Password must be at least 4 characters");
    return;
}

✅ Validate Amount
double amt;
try {
    amt = Double.parseDouble(amountField.getText());
    if (amt <= 0) {
        output.setText("Amount must be positive");
        return;
    }
} catch (NumberFormatException e) {
    output.setText("Invalid Amount Format");
    return;
}

2️⃣ CREATE ACCOUNT VALIDATION (UPDATED METHOD)
void createAccount() {
    try {
        if (nameField.getText().trim().isEmpty()) {
            output.setText("Name Required");
            return;
        }

        String pass = new String(passField.getPassword());
        if (pass.length() < 4) {
            output.setText("Password too short");
            return;
        }

        double bal = Double.parseDouble(amountField.getText());
        if (bal < 0) {
            output.setText("Balance cannot be negative");
            return;
        }

        int id = new Random().nextInt(9000) + 1000;
        Account acc = new SavingsAccount(id, nameField.getText(), pass, bal);
        dao.save(acc);
        output.setText("Account Created\nID: " + id);

    } catch (Exception e) {
        output.setText("Creation Failed");
    }
}

3️⃣ LOGIN VALIDATION
void login() {
    try {
        if (idField.getText().isEmpty()) {
            output.setText("Enter Account ID");
            return;
        }

        int id = Integer.parseInt(idField.getText());
        current = dao.get(id);

        if (current == null) {
            output.setText("Account Not Found");
            return;
        }

        String pass = new String(passField.getPassword());
        if (!((Account) current).checkPassword(pass)) {
            output.setText("Wrong Password");
            return;
        }

        output.setText("Login Success\nBalance: " + current.getBalance());

    } catch (NumberFormatException e) {
        output.setText("Invalid ID Format");
    } catch (Exception e) {
        output.setText("Login Error");
    }
}

4️⃣ TRANSACTION VALIDATION
void doTransaction(boolean dep) {
    try {
        if (current == null) {
            output.setText("Login First");
            return;
        }

        double amt = Double.parseDouble(amountField.getText());
        if (amt <= 0) {
            output.setText("Invalid Amount");
            return;
        }

        Thread t = new TransactionThread(current, amt, dep);
        t.start();
        t.join();

        dao.update(current);
        output.setText("Balance: " + current.getBalance());

    } catch (Exception e) {
        output.setText("Transaction Failed");
    }
}

5️⃣ DAO & DATABASE VALIDATION
Prevent Duplicate Account ID
ALTER TABLE accounts ADD PRIMARY KEY(id);

Check NULL Before Casting
if (rs == null) return null;

6️⃣ SERVLET VALIDATION
if (req.getParameter("id") == null ||
    req.getParameter("password") == null) {
    res.getWriter().println("Invalid Request");
    return;
}
